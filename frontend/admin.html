<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>For Admin</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="bootstrap.css">
    <link rel="stylesheet" href="css/bootstrap.css">
    <link rel="stylesheet" href="css/bootstrap.min.css">
    <link rel="stylesheet" href="css/mdb.css">
    <link rel="stylesheet" href="css/mdb.lite.css">
    <link rel="stylesheet" href="css/mdb.min.css">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css"
        integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
</head>

<body>
    <!-- header  section -->
    <header id="main-header" class="bg-success text-white p-3 mb-4">
        <div class="container">
            <h1 id="header-tittle">ADMIN REGISTRATION FORM </h1>
        </div>
    </header>
    <!-- form section -->
    <div class="cointainer">
        <div id="main" class="card card-body">
            <table id="" class="" style="width:auto">
                <!-- Table head -->
                <thead id="" class="">
                    <tr>
                        <th id="name">Student's Name</th>
                        <th id="roll">Roll No</th>
                        <th id="mobile">Mobile No</th>
                        <th id="email">Email Id</th>
                        <th id="branch">Branch</th>
                        <th id="college">College Name</th>
                    </tr>

                </thead>
                <!-- Table body -->
                <form id="admin_form">
                    <tbody>
                        <tr>
                            <th>
                                <div class="form-row">
                                    <div class="col-9">
                                        <input id="nameform" type="text" class="form-control" id="" placeholder="Name"
                                            required>
                                    </div>
                                </div>
                            </th>
                            <th>
                                <div class="form-row">
                                    <div class="col-9">
                                        <input id="rollform" type="text" class="form-control" id=""
                                            placeholder="Roll No" required>
                                    </div>
                                </div>

                            </th>
                            <th>
                                <div class="form-row">
                                    <div class="col-9">
                                        <input id="mobileform" type="text" class="form-control" id="" placeholder="MOB"
                                            required>
                                    </div>
                                </div>
                            </th>
                            <th>
                                <div class="form-row">
                                    <div class="col-12">
                                        <input id="emailform" type="text" class="form-control" id=""
                                            placeholder="Email Id" required>
                                    </div>
                                </div>
                            </th>
                            <th>
                                <div class="form-row">
                                    <div class="col-9">
                                        <input id="branchform" type="text" class="form-control" id=""
                                            placeholder="Branch" required>
                                    </div>
                                </div>
                            </th>
                            <th>
                                <div class="form-row">
                                    <div class="col-9">
                                        <input id="collegeform" type="text" class="form-control" id=""
                                            placeholder="College Name" required>
                                    </div>
                                </div>
                            </th>

                        </tr>

                    </tbody>

                    <div><input id="submit" type="submit" class="btn btn-success" value="Submit"></div>

                </form>
            </table>
            <!-- <div>
                <form class="md-form">
                <div class="file-field big-2">
                  <div class="btn btn-rounded peach-gradient btn-lg float-left">
                    <span>Upload our Sheet</span>
                    <input type="file">
                  </div>
                  <div class="file-path-wrapper">
                    <input class="file-path validate" type="text" placeholder="Upload your file">
                  </div>
                </div>
                <input id="submit" type="submit" class="btn btn-dark" value="Submit">
              </form>

            </div> -->

        </div>
    </div>
    <!-- form section ends here -->

    <!-- footer section -->
    <footer>

    </footer>

</body>
<script>
    window.onload = function () {
        var admin_form = document.getElementById("admin_form");

        var name_form = document.getElementById("nameform");
        var email_form = document.getElementById("emailform");
        var roll_form = document.getElementById("rollform");
        var mobile_form = document.getElementById("mobileform");
        var branch_form = document.getElementById("branchform");
        var college_form = document.getElementById("collegeform");

        admin_form.addEventListener('submit', function (e) {
            e.preventDefault();
            console.log("form submit button pressed")

            //get all form element values
            var form_body = {
                name: name_form.value,
                email: email_form.value,
                roll: roll_form.value,
                mobile: mobile_form.value,
                branch: branch_form.value,
                college: college_form.value
            }
            console.log("form data", form_body);
            var url = "http://localhost:5000/create_users";

            var header_obj = {
                method: "POST",
                body: JSON.stringify(form_body),
                headers: {
                    "Content-type": "application/json"
                }
            }

            fetch(url, header_obj)
                .then((response) => response.json())
                .then((data) => console.log(data))
                .catch((err) => console.error(err))

        })
    }
</script>

</html>
